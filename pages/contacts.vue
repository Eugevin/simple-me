<script setup lang="ts">
import { animate, inView } from 'motion';
import { easeInOutExpo } from '~/static/easings';

definePageMeta({ pageTransition })

function openSocial(url: string) {
  window.open(url, '_blank')
}

function showPage() {
  const motions = document.querySelectorAll<SVGElement>('.motion')!

  motions.forEach(motion => {
    const motionPaths = motion.querySelectorAll<SVGPathElement>('path')

    inView(motion, () => {
      motionPaths.forEach((path, i) => {
        animate(progress => {
          path.style.visibility = 'visible'
          path.style.strokeDasharray = `${path.getTotalLength()}`
          path.style.strokeDashoffset = `${path.getTotalLength() - path.getTotalLength() * progress}`
        }, { delay: i * .2, duration: .2, easing: 'linear' })
      })
    }, { margin: '0px 0px -200px 0px' })
  })
}

useAnimations(showPage)
</script>

<template>
  <div class="contacts-page">
    <Header title="contacts" />
    <div class="container">
      <p>Do you want me? <u>Do you</u>? Ahem... Well, you can <u>find me here</u>:</p>
      <div class="buttons">
        <div class="box">
          <Input @click="openSocial('https://t.me/eugevin')" type="button">Telegram</Input>
          <svg class="motion" width="41" height="62" viewBox="0 0 41 62" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.00459 58.8159C2.88022 59.0364 2.12583 60.4391 2.58133 58.9461C3.05838 57.3825 3.81549 55.8979 4.56739 54.4531C7.28785 49.2255 10.6186 44.2981 13.7488 39.3135C20.8446 28.0139 26.9656 16.1141 34.6512 5.19238" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
            <path d="M9.74411 18.6715C9.23818 19.2497 10.3533 18.7365 10.5092 18.6552C15.0916 16.2644 19.2367 13.071 23.5814 10.2877C27.9226 7.50664 32.0626 4.1622 36.8 2.13187C36.886 2.09501 36.2757 2.52647 36.1163 2.62024C35.6058 2.92056 35.8367 3.89781 35.8884 4.34583C36.7896 12.1565 37.7787 19.9567 38.7535 27.7552" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="box">
          <Input @click="openSocial('mailto:eugene.vinokuroff@gmail.com')" type="button">Email</Input>
          <svg class="motion" width="24" height="60" viewBox="0 0 24 60" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.7725 57.988C18.7725 57.4749 18.7746 56.9679 18.7073 56.4577C17.8562 49.9991 17.006 43.537 16.1027 37.0855C14.5784 26.1994 12.2877 16.1145 8.5166 5.82959" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
            <path d="M2.36313 25.1693C1.0403 25.0039 4.0332 15.6866 4.15383 15.239C5.37921 10.6929 7.63757 6.9346 7.63757 2.19941C7.63757 1.75626 7.56137 1.88403 7.67013 2.18313C7.96423 2.99191 9.21405 3.58411 9.83526 4.08779C15.0851 8.34439 18.388 15.0631 22.2888 20.4809" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          </svg>
        </div>
        <svg style="top: 0; left: 10%" class="motion" width="235" height="101" viewBox="0 0 235 101" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.40332 42.9686C7.87486 36.8131 13.2555 30.2173 17.8806 23.364C18.6936 22.1594 24.2837 15.1957 20.4086 13.7681C17.5406 12.7114 14.2403 14.3092 12.7215 16.8635C6.99277 26.4983 5.1242 48.1866 12.2056 57.4657C19.7867 67.3995 40.121 40.5393 45.1207 35.5395" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M33.0483 17.8954C36.1724 16.3334 53.755 34.3513 56.1611 36.4682C58.8639 38.8461 61.4048 42.2887 64.6221 43.8973" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M54.4068 13.2522C49.0042 29.8204 41.5496 45.7158 36.7627 62.4701" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M70.194 11.395C70.0683 10.9077 68.7261 6.74962 69.3686 9.64091C70.9138 16.5944 73.1078 23.3599 74.5277 30.4837C78.8755 52.297 82.7065 74.2367 87.2707 96.0044C87.4236 96.7337 87.8473 100.526 88.7668 98.6871" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M72.9797 34.6109C81.8868 11.0071 104.805 43.5244 94.0805 52.4614C90.9553 55.0657 85.193 54.2257 82.6789 51.12C79.8361 47.6084 85.4294 45.4026 87.838 43.8973" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M101.768 16.038C101.768 14.0745 102.973 19.7762 103.522 21.6615C105.627 28.8925 107.522 36.1927 109.403 43.4845C110.02 45.8759 111.054 53.1769 111.054 50.7072C111.054 37.7797 113.318 24.2215 125.912 18.8239" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M134.27 31.8248C139.205 35.279 149.388 16.4282 150.624 13.3036C151.611 10.8102 148.519 11.3363 147.065 11.4979C142.155 12.0434 138.42 15.0035 135.818 19.1334C131.422 26.1114 130.425 44.1584 141.235 45.5996C151.088 46.9134 158.02 40.6437 164.915 34.6107" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M189.06 8.60886C189.06 5.14688 188.115 4.45584 184.313 3.7593C180.371 3.03712 173.16 0.911661 170.074 4.58475C168.085 6.9523 166.858 10.8435 168.784 13.6132C174.227 21.4366 190.18 16.4668 195.302 25.9435C199.498 33.7055 192.352 43.0318 184.416 42.0399" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M215.99 7.68041C214.134 -7.91102 180.718 12.729 204.434 16.5541C211.768 17.7371 229.307 16.4169 232.499 25.2214C234.846 31.6918 230.701 38.3993 225.277 41.1114" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
        </svg>
        <svg style="top: 0; right: 7%" class="motion" width="120" height="61" viewBox="0 0 120 61" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.27575 8.55715C2.27575 2.36029 1.00593 1.01838 3.1774 8.2566C7.03464 21.1141 8.83292 34.8232 11.0919 48.0293C11.7248 51.7297 11.5798 55.597 12.244 59.2499C12.3229 59.6837 13.7175 53.7314 13.7968 52.9383C15.5689 35.2179 21.4439 18.5315 28.4236 2.24561" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M34.7351 21.1804C34.6543 27.5601 34.4476 33.9362 34.3343 40.3154C34.2711 43.879 33.2298 51.5961 34.7351 55.443C35.8906 58.396 40.2745 52.2836 40.4455 52.0368C46.6121 43.1393 58.5329 31.5147 59.9311 20.3288C60.0956 19.0127 59.1779 17.783 57.7271 18.6758C54.3855 20.7322 54.6935 27.4499 54.6214 30.5475C54.4531 37.7859 54.4631 45.1002 56.7754 52.0368C57.2839 53.5624 58.2345 56.175 59.0796 53.6397" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M69.8994 40.115C72.9033 38.1124 95.6155 15.9703 89.1346 13.4663C82.5948 10.9395 77.6093 20.669 76.6117 25.1877C74.6966 33.8619 77.088 48.7307 88.9342 48.7307C102.774 48.7307 111.453 31.0233 117.687 21.1804" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
        </svg>
        <svg style="top: 5%; left: 40%" class="motion"width="327" height="157" viewBox="0 0 327 157" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M26.2121 27.5614C26.2121 4.93929 24.3236 73.3363 29.5552 95.3452C32.1852 106.409 48.9015 78.0108 50.0748 76.3242" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M2.34961 77.3617C8.08027 77.2284 11.7989 75.4621 17.1053 72.8658C26.7218 68.1606 36.3017 63.3681 45.9249 58.6865" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M59.4124 52.4614C59.422 52.4255 60.3805 47.8402 60.4499 50.6169C60.6294 57.7985 61.524 64.8223 62.5825 71.9435C63.2951 76.7368 64.8181 89.433 67.7124 85.5463C70.3194 82.0456 71.0854 76.8696 71.8625 72.6928C73.0559 66.2781 73.9375 60.4801 73.9375 53.96C73.9375 48.7203 73.9305 64.2253 73.9375 65.2573C74.0644 83.911 76.1305 102.303 78.0299 120.822C78.3213 123.663 82.3919 158.844 74.7444 155.232C66.6916 151.43 60.286 137.986 58.836 129.467C57.8817 123.861 61.2415 120.738 64.6576 116.672C71.8972 108.053 79.2134 99.518 86.3876 90.8492" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M90.5375 42.0864C85.1162 43.4418 99.8766 115.845 101.258 124.28C101.453 125.468 104.025 149.209 104.025 138.575" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M93.6501 61.7989C109.001 48.7224 123.723 81.3895 110.711 90.9644C101.046 98.0767 102.224 82.4718 102.988 78.399" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M121.663 66.9865C125.518 63.5593 128.118 62.0719 130.251 56.6115C131.892 52.4105 132.189 47.9579 126.505 50.617C123.066 52.2255 120.434 56.9396 119.242 60.358C116.787 67.3959 115.82 81.5151 125.006 83.9325C137.873 87.3184 146.675 71.4962 152.788 62.8365" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M166.276 46.2364C169.854 38.6324 156.67 36.3871 153.307 41.7982C151.462 44.766 148.739 49.7413 149.849 53.4413C151.077 57.5368 159.628 57.9588 163.048 58.6865C167.025 59.5328 176.673 60.2818 178.726 64.5657C181.388 70.1218 176.268 76.4462 171.924 79.2637C170.829 79.9741 163.195 84.0612 162.241 81.9151C160.644 78.3226 168.374 73.0016 170.426 71.1366" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M196.363 44.1612C194.873 55.6548 197.722 44.4163 195.902 40.4723C193.489 35.2429 186.613 33.9523 184.028 39.8383C180.273 48.3923 180.452 63.573 188.236 69.9836C198.75 78.6418 206.829 61.7534 210.888 54.5363" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M215.039 45.1989C214.68 42.7697 214.403 40.8095 214.001 38.3975C213.74 36.8289 214.443 33.0175 213.021 33.7287C211.986 34.2463 213.15 45.4028 213.194 46.2364C213.592 53.7469 213.504 63.8486 217.344 70.6755C218.122 72.0581 218.484 67.6894 218.727 66.122C219.689 59.9412 220.972 53.9321 222.878 47.9656C225.43 39.9738 230.485 30.3668 238.901 27.5613" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M246.164 30.6738C242.685 27.4129 243.715 33.081 245.126 33.7863" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M248.239 47.2739C248.429 54.5191 249.104 61.2831 251.351 68.0241" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M265.876 18.2236C264.495 18.7415 264.964 20.6508 265.069 21.7973C266.958 42.2588 268.639 62.7291 269.911 83.2408C270.647 95.0979 271.064 130.742 271.064 118.862" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M265.876 33.7862C274.57 26.0585 283.472 36.9928 285.359 45.6599C286.296 49.9667 288.449 57.7513 283.745 60.5309C277.405 64.2768 271.364 61.17 272.102 54.5364" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M297.001 13.0361C297.001 11.1893 297.001 -5.64393 297.001 2.14225C297.001 13.0051 297.725 23.8677 299.538 34.5932C300.385 39.6093 302.034 55.3998 308.933 56.8996C314.881 58.1927 322.759 37.874 325.014 33.7862" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M285.589 22.3737C296.652 22.5024 306.095 18.8034 316.714 16.1487" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
        </svg>
        <svg style="top: 20%; left: 20%" class="motion" width="305" height="88" viewBox="0 0 305 88" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M33.321 25.0564C30.6336 24.7205 31.9354 18.9316 31.6257 16.919C31.332 15.0098 24.4786 -5.05991 22.3016 4.37377C17.6738 24.4277 22.6179 47.992 24.8446 68.0321C25.4389 73.3814 28.6378 86.585 24.1664 75.4067" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M4.33154 58.6231C-0.808514 56.754 3.26698 57.0973 6.19636 57.0973C18.7765 57.0973 30.4176 52.6417 42.4757 49.4685" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M51.6304 35.7368C53.6971 52.2706 55.2622 68.9341 57.7334 85.409C58.421 89.9929 57.4348 76.0987 58.0725 71.5076C59.1899 63.4625 66.4765 50.6231 74.5169 47.9429" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M80.6197 61.6747C80.6197 57.7348 79.9779 70.2004 82.315 73.3723C93.1226 88.0397 101.173 59.9188 101.896 51.2487C102.594 42.8739 91.2268 41.4142 86.8923 47.4343C81.5337 54.8768 80.0994 77.7438 91.3001 79.9839" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M111.135 49.4685C111.135 46.5735 111.024 44.7208 111.135 48.6209C111.334 55.5778 112.917 62.7346 113.424 69.7273C114.261 81.2816 114.765 77.1803 116.052 69.8121C117.238 63.0144 120.207 56.9449 123.426 50.9095C139.874 20.0698 133.684 94.1875 146.228 54.0458" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M153.857 18.9531C154.376 28.8246 156.059 38.7513 156.823 48.6208C157.209 53.6003 154.549 74.6683 162.927 76.7627C170.359 78.6209 180.799 63.9826 184.372 58.6231" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M141.65 54.0458C154.347 52.7761 167.703 46.8203 179.795 43.3655" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M195.052 60.1489C194.755 60.1065 200.173 50.2718 200.647 48.7904C201.257 46.8808 207.062 31.3289 201.918 31.3289C198.109 31.3289 196.035 37.0587 195.052 39.8053C192.126 47.9816 188.718 62.7629 195.73 69.9816C205.302 79.8344 216.572 59.2076 222.516 52.5201" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M231.671 34.2108C231.671 30.0769 231.671 34.1875 231.671 35.7366C231.671 45.7245 232.508 55.6937 233.112 65.6585C233.324 69.1579 235.13 59.8865 235.485 58.6231C237.852 50.2075 242.116 42.4748 248.115 36.0756C257.978 25.555 259.732 37.3945 261.338 47.2646C261.85 50.4086 263.271 81.5413 265.238 67.7777" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M295.753 5.22119C295.753 22.5909 297.711 40.2164 300.924 57.2668C301.859 62.2322 303.382 63.6289 303.382 58.5383C303.382 53.2959 301.793 49.5754 298.041 45.8235C285.517 33.2994 274.874 42.0542 268.967 55.5715C267.345 59.2848 261.937 71.5791 268.12 74.3893C275.077 77.5518 284.895 71.8156 291.176 69.3034" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
        </svg>
        <svg style="top: 24%; right: 24%" class="motion" width="257" height="86" viewBox="0 0 257 86" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.4685 3.03444C1.08328 -2.96819 4.67486 15.1575 5.6161 21.2456C7.26138 31.8874 7.48735 42.4252 7.52715 53.1713C7.56457 63.2758 7.52715 74.2577 7.52715 83.9728" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M3.48022 8.09326C24.4031 10.7387 59.2258 21.4962 58.6757 48.45C58.4726 58.4033 51.5682 66.1938 42.8253 70.0336C34.5078 73.6865 31.2717 74.2514 24.7266 68.7971" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M68.2308 42.492C69.1422 50.5806 74.6013 71.7055 85.3178 61.6587C90.7578 56.5587 93.7433 45.9732 92.6248 38.6699C90.9938 28.0204 78.9556 25.6973 72.0529 33.7237C64.2375 42.8114 68.1207 51.9162 73.2895 60.7032" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M119.829 26.3042C119.829 28.197 121.327 43.1167 120.841 34.8477C120.602 30.7954 113.851 30.5911 111.848 33.1615C106.812 39.6227 102.515 54.1793 107.351 61.8272C113.664 71.8099 126.687 52.9079 129.946 48.5623" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M145.122 11.1284C145.122 1.72465 146.875 29.8598 148.158 39.1758C149.161 46.4655 150.241 53.7438 151.193 61.0404C151.294 61.8207 151.193 59.4666 151.193 58.6797" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M157.263 17.1987C156.368 21.7401 146.262 50.4674 152.654 50.5858C162.536 50.7688 171.622 46.1372 180.533 42.492" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M176.486 45.5271C182.623 39.5737 188.074 33.0711 191.999 25.405C194.503 20.5151 193.918 19.2222 189.076 19.2222C180.116 19.2222 176.964 27.0125 176.261 35.5223C175.512 44.5917 178.634 56.1093 189.414 56.4876C205.164 57.0402 212.135 44.4708 221.002 33.3864" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
          <path d="M215.943 22.2575C219.716 32.9717 224.204 43.4313 227.859 54.1832C228.865 57.1405 228.755 47.9872 229.546 44.9652C233.618 29.3938 240.698 17.4682 255.401 10.1167" stroke="#F4F4F4" stroke-width="3" stroke-linecap="round"/>
        </svg>
      </div>
    </div>
  </div>
</template>

<style scoped lang="scss">
.contacts-page {
  text-align: center;
  
  .container {
    position: relative;
    padding: 10rem 1rem 0;
  }

  .box {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    position: relative;

    .motion {
      height: 3rem;
      width: 3rem;
      position: static;
    }

    &:last-child {
      .motion {
        transform: rotate(-45deg);
      }
    }    
  }

  .motion {
    visibility: hidden;
    position: absolute;
    height: 5rem;
    width: 5rem;
    pointer-events: none;

    path {
      stroke: var(--white);
    }
  }

  .buttons {
    margin-top: 1rem;
    display: flex;
    justify-content: space-around;

    button {
      text-transform: uppercase;
    }
  }
}
</style>